<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Serverless Framework CLI redesign</title>
    <meta name="description" content="Gathering feedback on the redesign of the Serverless Framework CLI output." />
    <meta property="og:description" content="Gathering feedback on the redesign of the Serverless Framework CLI output." />
    <meta property="og:locale" content="en_US" />
    <meta property="og:image" content="https://sls-redesign.netlify.app/screen.png" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Serverless Framework CLI redesign" />
    <meta name="twitter:site" content="@goServerless">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon.png">
    <link href="styles.min.css" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,400;0,500;0,600;0,700;1,400&display=swap" rel="stylesheet">
    <script>
        var ffWidgetId = '7693e056-bef7-48a7-a89d-1eccd2a493d7';
        var ffWidgetScript  = document.createElement('script');
        ffWidgetScript.type = 'text/javascript';
        ffWidgetScript.src = 'https://cdn.freddyfeedback.com/widget/freddyfeedback.js';
        document.head.appendChild(ffWidgetScript);
    </script>
</head>
<body class="bg-gray-100">

    <div class="bg-black py-6">
        <div class="mx-auto max-w-3xl flex flex-col items-center">
            <img class="h-10" src="https://assets-global.website-files.com/60acbb950c4d6606963e1fed/60acbb950c4d66854e3e2013_logo%20serverless%20dark.svg">
        </div>
    </div>

    <div id="app" class="container mx-auto px-3 my-16">

        <div class="mx-auto prose">
            <h1>v3.0 CLI redesign</h1>
            <p>
                This document presents CLI redesigns planned for the future <a href="https://github.com/serverless/serverless">Serverless Framework</a> v3.0.
                Our goal is to gather feedback from the community.
            </p>
            <p>Here is a quick preview, complete examples are included below:</p>
        </div>

        <div class="terminal max-w-2xl mx-auto mt-4 mb-8">
            <p>$ serverless deploy</p>
            <p>&nbsp;</p>
            <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
            <p>&nbsp;</p>
            <p>
                <span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span>
            </p>
            <p>&nbsp;</p>
            <p class="text-gray">functions:</p>
            <p class="ml-5">home: myapp-dev-home</p>
            <p class="text-gray">endpoints:</p>
            <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
            <p>&nbsp;</p>
            <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
        </div>

        <div class="mx-auto prose">
            <h2>Design principles</h2>
            <p>
                The goal of the redesign is to provide a better user experience with a simpler output and consistent design across all <a href="https://www.serverless.com/">Serverless</a> products.
            </p>
            <ul>
                <li>
                    <strong>Optimize for use-cases</strong>: prioritize the most important information.
                    <p>For example, deploying is all about getting changes live. The most important information is not the deployment log but the application URL (or any other output).</p>
                    <p>On the other hand, the most important information for a failed deployment is the error itself.</p>
                </li>
                <li>
                    <strong>Minimize noise</strong>: by default, only show necessary information. Minimize formats.
                    <p>We want to keep verbose information an option, but it should not be the default behavior.</p>
                </li>
            </ul>

            <h2>Colors and styles</h2>
            <p>
                Colors and styles should be consistent with other Serverless products.
                As such, CLI output formatting aims to be <strong>clear</strong> and <strong>minimalistic</strong>.
            </p>
            <p>
                Usage of bold, italic, and underline should be exceptional.
            </p>
            <p>
                Serverless is a single-color brand. Thus, colors are intentionally limited to:
            </p>
            <div class="flex items-center mb-2">
                <div class="inline-block h-5 w-5 bg-white shadow rounded mr-4"></div>
                <div class="flex-grow">White: default color, used for almost all information.</div>
                <code>#ffffff</code>
            </div>
            <div class="flex items-center mb-2">
                <div class="inline-block h-5 w-5 bg-red shadow rounded mr-4"></div>
                <div class="flex-grow">Red: used for drawing attention.</div>
                <code>#fd5750</code>
            </div>
            <div class="flex items-center mb-2">
                <div class="inline-block h-5 w-5 bg-gray shadow rounded mr-4"></div>
                <div class="flex-grow">Gray: secondary color used for secondary information.</div>
                <code>#8c8d91</code>
            </div>
            <p>
                Use of other colors, including green, should be exceptional.
            </p>
            <h3>Using red for success</h3>
            <p>
                Using red to highlight everything, including success, is intentional.
                It allows to match the Serverless branding while adding uniqueness to the CLI's identity.
            </p>
            <p>
                That doesn't mean that success and error logs should display identically.
                With clear wording, symbols and appropriate amount of color, success and failures can be communicated clearly:
            </p>
        </div>
        <div class="terminal max-w-2xl mx-auto mt-4">
            <div><span class="text-red">✔</span> Application deployed succesfully</div>
        </div>
        <div class="terminal max-w-2xl mx-auto mt-4 mb-8">
            <div class="text-red">✖ Deployment failed</div>
        </div>

        <div class="mx-auto prose">
            <h2>Redesign examples</h2>
            <p>
                The examples below illustrate multiple scenarios.
                The left side shows the current CLI design.
                The right side shows the future CLI design.
            </p>
        </div>

        <h2>Successful deployment</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless deploy</p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">............................................</p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>

            <div class="terminal v3">
                <p>$ serverless deploy</p>
                <p>&nbsp;</p>
                <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>
                    <span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span>
                </p>
                <p>&nbsp;</p>
                <p class="text-gray">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-gray">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>
        </div>

        <div id="fyfk-widget"></div>

        <comments :id="2"></comments>

        <h2>Ongoing deployment</h2>
        <div class="prose max-w-none mb-4">
            <p>
                Instead of printing all deployment steps to the output, the new design includes a spinner that refreshes in-place.
                As long as every step succeeds, the next step overrides the previous one, keeping the output as minimal as possible.
                Below is an illustration:
            </p>
        </div>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless deploy</p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">............<span v-for="i in second">.</span></p>
            </div>

            <div class="terminal v3">
                <p>$ serverless deploy</p>
                <p>&nbsp;</p>
                <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>
                    <span class="text-red">{{ frames[frame] }}&nbsp;</span>
                    <span v-if="step === 0">Packaging</span>
                    <span v-if="step === 1">Uploading deployment artifacts (222 KB)</span>
                    <span v-if="step === 2">Validating CloudFormation template</span>
                    <span v-if="step === 3">CloudFormation stack updating <span class="text-gray">(1/9)</span></span>
                    <span v-if="step === 4">CloudFormation stack updating <span class="text-gray">(3/9)</span></span>
                    <span v-if="step === 5">CloudFormation stack updating <span class="text-gray">(6/9)</span></span>
                    <span class="text-gray">&nbsp;({{ 20 + second }}s)</span>
                </p>
            </div>
        </div>

        <comments :id="4"></comments>

        <h2>Deploying with Dashboard</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless deploy</p>
                <p>Serverless: <span class="text-yellow">Using provider credentials, configured via dashboard: https://app.serverless.com/vulcan/apps/kilo/kilo-backend/prod/us-east-1/providers</span></p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">............................................</p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>Serverless: <span class="text-yellow">Publishing service to the Serverless Dashboard...</span></p>
                <p>Serverless: <span class="text-yellow">Successfully published your service to the Serverless Dashboard: https://app.serverless.com/myorg/apps/kilo/kilo-backend/prod/us-east-1</span></p>
            </div>
            <div class="terminal v3">
                <p>$ serverless deploy</p>
                <p>&nbsp;</p>
                <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>
                    <span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span>
                </p>
                <p>&nbsp;</p>
                <p><span class="text-gray">dashboard:</span> https://app.serverless.com/myorg/apps/kilo/kilo-backend/prod/us-east-1</p>
                <p class="text-gray">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-gray">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
            </div>
        </div>

        <comments :id="6"></comments>

        <h2>API Gateway proxy configuration (e.g. ExpressJS app)</h2>
        <div class="prose max-w-none mb-4">
            <p>
                When an application deploys a single "catch-all" API endpoint (for example an ExpressJS application),
                we can simplify further by replacing the <code>endpoints:</code> list with a single <code>endpoint:</code> field.
            </p>
        </div>
        <div class="grid xl:grid-cols-2 gap-4">
            <div></div>
            <div class="terminal v3">
                <p>$ serverless deploy</p>
                <p>&nbsp;</p>
                <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>
                    <span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span>
                </p>
                <p>&nbsp;</p>
                <p class="text-gray">functions:</p>
                <p class="ml-5">web: myapp-dev-web</p>
                <p><span class="text-gray">endpoint:</span> https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com</p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>
        </div>

        <comments :id="7"></comments>

        <h2>Error</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless deploy</p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">......</p>
                <p>Serverless: <span class="text-yellow">Operation failed!</span></p>
                <p>Serverless: <span class="text-yellow">View the full error output: https://us-east-1.console.aws.amazon.com/cloudformation/home?region=us-east-1#/stack/detail?stackId=arn%3Aaws%3Acloudformation%3Aus-east-1%3A416566615250%3Astack%2Fmyapp-dev%2F26eca400-e881-11eb-8b2d-0edef5a02865</span></p>
                <p>&nbsp;</p>
                <p class="text-yellow">&nbsp;Serverless Error ----------------------------------------</p>
                <p>&nbsp;</p>
                <p>&nbsp;&nbsp;An error occurred: HelloLambdaFunction - Resource handler returned message: "Value nodejs12.xa at 'runtime' failed to satisfy constraint: Member must satisfy enum value set: [nodejs12.x, python3.6, provided, nodejs14.x, ruby2.7, java11, go1.x, provided.al2, java8, java8.al2, dotnetcore3.1, python3.7, python3.8] or be a valid ARN</p>
                <p>&nbsp;</p>
                <p class="text-yellow ml-5">Get Support --------------------------------------------</p>
                <p class="ml-10"><span class="text-yellow">Docs:</span> &nbsp; &nbsp; docs.serverless.com</p>
                <p class="ml-10"><span class="text-yellow">Bugs:</span> &nbsp; &nbsp; github.com/serverless/serverless/issues</p>
                <p class="ml-10"><span class="text-yellow">Issues:</span> &nbsp; forum.serverless.com</p>
                <p>&nbsp;</p>
                <p class="text-yellow ml-5">Your Environment Information ---------------------------</p>
                <p class="ml-10 text-yellow whitespace-pre">Operating System:          darwin</p>
                <p class="ml-10 text-yellow whitespace-pre">Node Version:              15.14.0</p>
                <p class="ml-10 text-yellow whitespace-pre">Framework Version:         2.52.1</p>
                <p class="ml-10 text-yellow whitespace-pre">Plugin Version:            5.4.3</p>
                <p class="ml-10 text-yellow whitespace-pre">SDK Version:               4.2.5</p>
                <p class="ml-10 text-yellow whitespace-pre">Components Version:        3.14.0</p>
            </div>
            <div>
                <div class="terminal v3">
                    <p>$ serverless deploy &nbsp; <span class="text-gray"># without the Dashboard</span></p>
                    <p>&nbsp;</p>
                    <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                    <p>&nbsp;</p>
                    <p class="text-red">✖ Stack myapp-dev failed to deploy <span class="text-gray">(31s)</span></p>
                    <p>&nbsp;</p>
                    <pre class="text-gray">Environment  darwin, node v15.14.0, framework v2.51.2, plugin v5.4.3, SDK v4.2.3
Credentials: Local credentials, "default" profile
Docs:        docs.serverless.com
Support:     forum.serverless.com
Bugs:        github.com/serverless/serverless/issues</pre>
                    <p>&nbsp;</p>
                    <p class="text-red">Error:</p>
                    <p>UPDATE_FAILED: HelloLambdaFunction <span class="text-gray">(AWS::Lambda::Function)</span></p>
                    <p>Resource handler returned message: "Value nodejs12.xa at 'runtime' failed to satisfy constraint: Member must satisfy enum value set: [java8, java11, nodejs10.x, nodejs12.x, python2.7, python3.6, python3.7, python3.8, dotnetcore2.1, go1.x, ruby2.5] or be a valid ARN.</p>
                    <p>&nbsp;</p>
                    <p class="text-gray">View the full error: https://us-east-1.console.aws.amazon.com/cloudformation/home?region=us-east-1#/stack/detail?stackId=arn%3Aaws%3Acloudformation%3Aus-east-1%3A416566615250%3Astack%2Fmyapp-dev%2F8f271030-bbec-11eb-b27c-0a4ced5e22b5</p>
                </div>
                <div class="terminal v3">
                    <p>$ serverless deploy &nbsp; <span class="text-gray"># with the Dashboard</span></p>
                    <p>&nbsp;</p>
                    <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                    <p>&nbsp;</p>
                    <p class="text-red">✖ Stack myapp-dev failed to deploy <span class="text-gray">(31s)</span></p>
                    <p>&nbsp;</p>
                    <pre class="text-gray whitespace-pre-wrap">Environment: darwin, node v15.14.0, framework v2.51.2, plugin v5.4.3, SDK v4.2.3
Credentials: Serverless Dashboard (https://app.serverless.com/myorg/apps/myapp/myapp/settings/providers)
Docs:        docs.serverless.com
Support:     forum.serverless.com
Bugs:        github.com/serverless/serverless/issues</pre>
                    <p>&nbsp;</p>
                    <p class="text-red">Error:</p>
                    <p>UPDATE_FAILED: HelloLambdaFunction <span class="text-gray">(AWS::Lambda::Function)</span></p>
                    <p>Resource handler returned message: "Value nodejs12.xa at 'runtime' failed to satisfy constraint: Member must satisfy enum value set: [java8, java11, nodejs10.x, nodejs12.x, python2.7, python3.6, python3.7, python3.8, dotnetcore2.1, go1.x, ruby2.5] or be a valid ARN.</p>
                    <p>&nbsp;</p>
                    <p class="text-gray">View the full error: https://us-east-1.console.aws.amazon.com/cloudformation/home?region=us-east-1#/stack/detail?stackId=arn%3Aaws%3Acloudformation%3Aus-east-1%3A416566615250%3Astack%2Fmyapp-dev%2F8f271030-bbec-11eb-b27c-0a4ced5e22b5</p>
                </div>
            </div>
        </div>

        <comments :id="9"></comments>

        <h2>Warnings</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless deploy</p>
                <p>Serverless: <span class="text-orange">WARNING: duplicate plugin some-plugin was not loaded</span></p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">............................................</p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>
            <div class="terminal v3">
                <p>$ serverless deploy</p>
                <p><span class="text-orange">Warning: duplicate plugin some-plugin was not loaded</span></p>
                <p>&nbsp;</p>
                <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>
                    <span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span>
                </p>
                <p>&nbsp;</p>
                <p class="text-gray">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="text-gray">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>
        </div>

        <comments :id="15"></comments>

        <h2>Deprecations</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless deploy</p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">............................................</p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>Serverless: <span class="text-orange font-bold">Deprecation warnings:</span></p>
                <p>&nbsp;</p>
                <p class="text-orange font-bold">Detected ".env" files. In the next major release variables from ".env" files will be automatically loaded into the serverless build process. Set "useDotenv: true" to adopt that behavior now.</p>
                <p class="text-orange">More Info: https://www.serverless.com/framework/docs/deprecations/#LOAD_VARIABLES_FROM_ENV_FILES</p>
                <p>&nbsp;</p>
                <p class="text-orange font-bold">Support for "package.include" and "package.exclude" will be removed with next major release. Please use "package.patterns" instead</p>
                <p class="text-orange">More Info: https://www.serverless.com/framework/docs/deprecations/#NEW_PACKAGE_PATTERNS</p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>
            <div>
                <div class="terminal v3">
                    <p>$ serverless deploy</p>
                    <p>&nbsp;</p>
                    <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                    <p>&nbsp;</p>
                    <p>
                        <span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span>
                    </p>
                    <p>&nbsp;</p>
                    <p class="text-gray">functions:</p>
                    <p class="ml-5">publisher: myapp-dev-publisher</p>
                    <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                    <p class="text-gray">endpoints:</p>
                    <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                    <p>&nbsp;</p>
                    <p class="text-gray">2 deprecations found: run 'serverless doctor' for more details</p>
                    <p>&nbsp;</p>
                    <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
                </div>
                <div class="terminal v3">
                    <p>$ serverless doctor</p>
                    <p>2 deprecations triggered in the last command:</p>
                    <p>&nbsp;</p>
                    <p>Detected ".env" files. In the next major release variables from ".env" files will be automatically loaded into the serverless build process. Set "useDotenv: true" to adopt that behavior now.</p>
                    <p class="text-gray">More Info: https://www.serverless.com/framework/docs/deprecations/#LOAD_VARIABLES_FROM_ENV_FILES</p>
                    <p>&nbsp;</p>
                    <p>Support for "package.include" and "package.exclude" will be removed with next major release. Please use "package.patterns" instead</p>
                    <p class="text-gray">More Info: https://www.serverless.com/framework/docs/deprecations/#NEW_PACKAGE_PATTERNS</p>
                </div>
            </div>
        </div>

        <comments :id="8"></comments>

        <h2>Non-interactive deployment (no TTY, e.g. CI/CD)</h2>
        <div class="prose max-w-none mb-4">
            <p>
                The interactive spinner will be disabled when deploying with a non-interactive terminal. For example in CI/CD.
                As such, each step will be displayed:
            </p>
        </div>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless deploy</p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">............................................</p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>

            <div class="terminal v3">
                <p>$ serverless deploy</p>
                <p>&nbsp;</p>
                <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>Packaging <span class="text-gray">(0s)</span></p>
                <p>Uploading deployment artifacts (222 KB) <span class="text-gray">(3s)</span></p>
                <p>Validating CloudFormation template <span class="text-gray">(8s)</span></p>
                <p>CloudFormation stack updating <span class="text-gray">(11s)</span></p>
                <p>Service deployed to stack myapp-dev <span class="text-gray">(31s)</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-gray">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>
        </div>

        <comments :id="10"></comments>

        <h2>Verbose deployment</h2>
        <div class="prose max-w-none mb-4">
            <p>
                The normal output is very minimal. Using the <code>--verbose</code> option prints all details and disables all interactive elements.
                An extra verbosity level is available via <code>--debug</code>: this option prints verbose logs + internal Framework logs.
            </p>
            <p>
                Preview of <code>--verbose</code>:
            </p>
        </div>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless deploy --verbose</p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p>CloudFormation - <span class="text-yellow">UPDATE_IN_PROGRESS</span> - AWS::CloudFormation::Stack - myapp-dev</p>
                <p>CloudFormation - <span class="text-yellow">UPDATE_IN_PROGRESS</span> - AWS::Lambda::Function - HelloLambdaFunction</p>
                <p>CloudFormation - <span class="text-green">UPDATE_COMPLETE</span> - AWS::Lambda::Function - HelloLambdaFunction</p>
                <p>CloudFormation - <span class="text-yellow">CREATE_IN_PROGRESS</span> - AWS::Lambda::Version - HelloLambdaVersionxo7mVIrb5qrFjIjhs7GmYITXR7zJ5sH0JkO8kC2tb4s</p>
                <p>CloudFormation - <span class="text-yellow">CREATE_IN_PROGRESS</span> - AWS::Lambda::Version - HelloLambdaVersionxo7mVIrb5qrFjIjhs7GmYITXR7zJ5sH0JkO8kC2tb4s</p>
                <p>CloudFormation - <span class="text-green">CREATE_COMPLETE</span> - AWS::Lambda::Version - HelloLambdaVersionxo7mVIrb5qrFjIjhs7GmYITXR7zJ5sH0JkO8kC2tb4s</p>
                <p>CloudFormation - <span class="text-yellow">UPDATE_COMPLETE_CLEANUP_IN_PROGRESS</span> - AWS::CloudFormation::Stack - myapp-dev</p>
                <p>CloudFormation - DELETE_SKIPPED - AWS::Lambda::Version - HelloLambdaVersion8XeTw8dmeCepXt2KSltXLxzAn2z8aH4w7yi4yX9Aq4</p>
                <p>CloudFormation - <span class="text-green">UPDATE_COMPLETE</span> - AWS::CloudFormation::Stack - myapp-dev</p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>&nbsp;</p>
                <p class="text-yellow underline">Stack Outputs</p>
                <p><span class="text-yellow">HelloLambdaFunctionQualifiedArn:</span> arn:aws:lambda:us-east-1:416566615250:function:myapp-dev-hello:5</p>
                <p><span class="text-yellow">HttpApiId:</span> wd6m3kwta5</p>
                <p><span class="text-yellow">ServerlessDeploymentBucketName:</span> myapp-dev-serverlessdeploymentbucket-18gm15gzf8306</p>
                <p><span class="text-yellow">HttpApiUrl:</span> https://wd6m3kwta5.execute-api.us-east-1.amazonaws.com</p>
                <p>&nbsp;</p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>

            <div class="terminal v3">
                <p>$ serverless deploy --verbose</p>
                <p>&nbsp;</p>
                <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>Packaging</p>
                <p>Uploading deployment artifacts (222 KB)</p>
                <p>Validating CloudFormation template</p>
                <p>CloudFormation stack updating</p>
                <div class="text-gray">
                <p>&nbsp; UPDATE_IN_PROGRESS - AWS::CloudFormation::Stack - myapp-dev</p>
                <p>&nbsp; UPDATE_IN_PROGRESS - AWS::Lambda::Function - HelloLambdaFunction</p>
                <p>&nbsp; UPDATE_COMPLETE - AWS::Lambda::Function - HelloLambdaFunction</p>
                <p>&nbsp; CREATE_IN_PROGRESS - AWS::Lambda::Version - HelloLambdaVersionxo7mVIrb5qrFjIjhs7GmYITXR7zJ5sH0JkO8kC2tb4s</p>
                <p>&nbsp; CREATE_IN_PROGRESS - AWS::Lambda::Version - HelloLambdaVersionxo7mVIrb5qrFjIjhs7GmYITXR7zJ5sH0JkO8kC2tb4s</p>
                <p>&nbsp; CREATE_COMPLETE - AWS::Lambda::Version - HelloLambdaVersionxo7mVIrb5qrFjIjhs7GmYITXR7zJ5sH0JkO8kC2tb4s</p>
                <p>&nbsp; UPDATE_COMPLETE_CLEANUP_IN_PROGRESS - AWS::CloudFormation::Stack - myapp-dev</p>
                <p>&nbsp; DELETE_SKIPPED - AWS::Lambda::Version - HelloLambdaVersion8XeTw8dmeCepXt2KSltXLxzAn2z8aH4w7yi4yX9Aq4</p>
                <p>&nbsp; UPDATE_COMPLETE - AWS::CloudFormation::Stack - myapp-dev</p>
                </div>
                <p>Service deployed to stack myapp-dev <span class="text-gray">(31s)</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-gray">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p>&nbsp;</p>
                <p class="text-gray">Stack outputs:</p>
                <p>&nbsp; HelloLambdaFunctionQualifiedArn: arn:aws:lambda:us-east-1:416566615250:function:myapp-dev-hello:5</p>
                <p>&nbsp; HttpApiId: wd6m3kwta5</p>
                <p>&nbsp; ServerlessDeploymentBucketName: myapp-dev-serverlessdeploymentbucket-18gm15gzf8306</p>
                <p>&nbsp; HttpApiUrl: https://wd6m3kwta5.execute-api.us-east-1.amazonaws.com</p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>
        </div>

        <comments :id="11"></comments>

        <h2>With plugins</h2>
        <div class="prose max-w-none mb-4">
            <p>
                With v2.x, plugins log to the output using <code>console.log()</code> or <code>serverless.cli.log()</code>.
                In v3, plugins can extend the structured output with new APIs:
            </p>
        </div>
        <pre class="terminal">class MyPlugin {
    constructor(serverless, options, { logger }) {

        <span class="text-gray">// Creates/updates a spinner</span>
        logger.progress.update('id', 'Message');
        <span class="text-gray">// Removes the spinner (when the corresponding task is done)</span>
        logger.progress.update('id', 'Message');

        <span class="text-gray">// Adds a new section to the "Service information"</span>
        serverless.addServiceOutputSection('section name', 'content');

        <span class="text-gray">// Logs a warning message</span>
        logger.warning('Message');
        <span class="text-gray">// Logs a message for the --verbose level</span>
        logger.info('Message');
        <span class="text-gray">// Logs a message for the --debug level</span>
        logger.debug('Message');</pre>
        <div class="prose max-w-none mb-4">
            <p>
                The example below is inspired from a project using the following plugins: warmer, webpack, storage and domain manager.
            </p>
        </div>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless deploy</p>
                <p>Serverless: <span class="text-yellow">Running "serverless" installed locally (in service node_modules)</span></p>
                <p>Serverless: <span class="text-yellow">WarmUp: Creating warmer "officeHoursWarmer" to warm up 9 functions:</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-login</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-logout</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-providerAuth</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-providerLink</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-providerRefresh</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userCreate</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userDelete</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userRead</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userUpdate</span></p>
                <p>Serverless: <span class="text-yellow">WarmUp: Creating warmer "outOfOfficeHoursWarmer" to warm up 9 functions:</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-login</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-logout</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-providerAuth</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-providerLink</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-providerRefresh</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userCreate</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userDelete</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userRead</span></p>
                <p>Serverless: <span class="text-yellow whitespace-pre">          * kilo-backend-prod-userUpdate</span></p>
                <p>Serverless: <span class="text-yellow">Bundling with Webpack...</span></p>
                <pre>assets by path src/functions/ 349 KiB
  assets by path src/functions/user/ 42 KiB
    asset src/functions/user/create/handler.js 10.5 KiB [emitted] [minimized] (name: src/functions/user/create/handler) 1 related asset
    asset src/functions/user/update/handler.js 10.5 KiB [emitted] [minimized] (name: src/functions/user/update/handler) 1 related asset
    asset src/functions/user/read/handler.js 10.5 KiB [emitted] [minimized] (name: src/functions/user/read/handler) 1 related asset
    asset src/functions/user/delete/handler.js 10.5 KiB [emitted] [minimized] (name: src/functions/user/delete/handler) 1 related asset
  asset src/functions/refresh/handler.js 94.1 KiB [emitted] [minimized] (name: src/functions/refresh/handler) 1 related asset
  asset src/functions/auth/handler.js 94.1 KiB [emitted] [minimized] (name: src/functions/auth/handler) 1 related asset
  asset src/functions/link/handler.js 94.1 KiB [emitted] [minimized] (name: src/functions/link/handler) 1 related asset
  asset src/functions/logout/handler.js 10.4 KiB [emitted] [minimized] (name: src/functions/logout/handler) 1 related asset
  asset src/functions/login/handler.js 10.4 KiB [emitted] [minimized] (name: src/functions/login/handler) 1 related asset
  asset src/functions/admin/randomise/handler.js 3.57 KiB [emitted] [minimized] (name: src/functions/admin/randomise/handler) 1 related asset
assets by path .warmup/ 5.46 KiB
  asset .warmup/outOfOfficeHoursWarmer/index.js 2.73 KiB [emitted] [minimized] (name: .warmup/outOfOfficeHoursWarmer/index) 1 related asset
  asset .warmup/officeHoursWarmer/index.js 2.73 KiB [emitted] [minimized] (name: .warmup/officeHoursWarmer/index) 1 related asset
runtime modules 9.15 KiB 40 modules
orphan modules 11 bytes [orphan] 1 module
built modules 198 KiB [built]
  modules by path ./src/ 190 KiB
    modules by path ./src/libs/ 174 KiB 16 modules
    modules by path ./src/functions/ 6.31 KiB 4 modules
    modules by path ./src/util/*.ts 7.65 KiB 10 modules
    modules by path ./src/middleware/*.ts 1.34 KiB 4 modules
    ./src/resolvers/api-gateway.ts 280 bytes [built] [code generated]
  modules by path ./.warmup/ 7.5 KiB
    ./.warmup/officeHoursWarmer/index.js 3.75 KiB [built] [code generated]
    ./.warmup/outOfOfficeHoursWarmer/index.js 3.75 KiB [built] [code generated]
  modules by path external "@middy/ 84 bytes
    external "@middy/core" 42 bytes [built] [code generated]
    external "@middy/http-json-body-parser" 42 bytes [built] [code generated]

WARNING in ./src/libs/user.ts 403:0-42
export 'UserData' (reexported as 'UserData') was not found in '@util/types' (possible exports: )
 @ ./src/functions/login/handler.ts 2:0-30 8:20-30

WARNING in ./src/libs/user.ts 403:0-42
export 'UserSerialised' (reexported as 'UserSerialised') was not found in '@util/types' (possible exports: )
 @ ./src/functions/login/handler.ts 2:0-30 8:20-30

webpack compiled with 2 warnings in 3341 ms
(node:67778) [DEP_WEBPACK_CHUNK_MODULES_ITERABLE] DeprecationWarning: Chunk.modulesIterable: Use new ChunkGraph API
(Use `node --trace-deprecation ...` to show where the warning was created)
(node:67778) [DEP_WEBPACK_MODULE_ISSUER] DeprecationWarning: Module.issuer: Use new ModuleGraph API</pre>
                <p>Serverless: <span class="text-yellow">Package lock found - Using locked versions</span></p>
                <p>Serverless: <span class="text-yellow">Packing external modules: @middy/core@1.5.2, @middy/http-json-body-parser@1.5.2, @sentry/serverless@6.6.0, @vulcancreative/serverless-storage@1.1.3, aws-sdk@2.884.0, source-map-support@0.5.19, bcryptjs@2.4.3, jsonwebtoken@8.5.1, uuid@3.3.2, validator@13.5.2, node-fetch@2.6.1</span></p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless Storage: Storage already exists</p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service myapp.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p>Serverless: <span class="text-yellow">Stack update finished...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="ml-5">warmUpPluginOfficeHoursWarmer: myapp-dev-warmup-plugin-officeHoursWarmer</p>
                <p class="ml-5">warmUpPluginOutOfOfficeHoursWarmer: myapp-dev-warmup-plugin-outOfOfficeHoursWarmer</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>Serverless Domain Manager: Info: Found apiId: r0oxfy319i for backend.kilo.ai</p>
                <p>Serverless Domain Manager: Info: Updated API mapping from '' to '(none)' for backend.kilo.ai</p>
                <p>Serverless Domain Manager: Summary: Distribution Domain Name</p>
                <p>Serverless Domain Manager:    Domain Name: backend.kilo.ai</p>
                <p>Serverless Domain Manager:    Target Domain: d-s7juq9wqf0.execute-api.us-east-1.amazonaws.com</p>
                <p>Serverless Domain Manager:    Hosted Zone Id: Z1UJRXOUMOOFQ8</p>
                <p>Serverless: <span class="text-yellow">WarmUp: Prewarming up you functions using warmer "officeHoursWarmer".</span></p>
                <p>Serverless: <span class="text-yellow">WarmUp: Warmer "officeHoursWarmer" successfully prewarmed your functions.</span></p>
                <p>Serverless: <span class="text-yellow">Removing old service artifacts from S3...</span></p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>

            <div>
                <div class="terminal v3 sticky top-0">
                    <p>$ serverless deploy</p>
                    <p>&nbsp;</p>
                    <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                    <p>&nbsp;</p>
                    <p class="text-gray">/* Note: some progress steps are detailed below for clarity, in reality they will dynamically show and hide */</p>
                    <p><span class="text-red">⠋</span> [Webpack] Bundling with Webpack</p>
                    <p><span class="text-red">⠋</span> [Webpack] Packing external modules</p>
                    <p><span class="text-red">⠋</span> Packaging</p>
                    <p><span class="text-red">⠋</span> ...</p>
                    <p><span class="text-red">⠋</span> CloudFormation stack updating (9/9)</p>
                    <p><span class="text-red">⠋</span> [Domain Manager] Updating API mapping from '' to '(none)' for backend.kilo.ai</p>
                    <p><span class="text-red">⠋</span> [WarmUp] Warming using the "officeHoursWarmer" warmer</p>
                    <p><span class="text-red">✔</span> Service deployed to stack myapp-dev <span class="text-gray">(31s)</span></p>
                    <p>&nbsp;</p>
                    <p class="text-gray">functions:</p>
                    <p class="ml-5">publisher: myapp-dev-publisher</p>
                    <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                    <p class="ml-5">warmUpPluginOfficeHoursWarmer: myapp-dev-warmup-plugin-officeHoursWarmer</p>
                    <p class="ml-5">warmUpPluginOutOfOfficeHoursWarmer: myapp-dev-warmup-plugin-outOfOfficeHoursWarmer</p>
                    <p class="text-gray">endpoints:</p>
                    <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                    <p class="text-gray">warmup plugin:</p>
                    <p class="ml-5">- officeHoursWarmer</p>
                    <p class="ml-5">- outOfOfficeHoursWarmer</p>
                    <p class="text-gray">domain manager:</p>
                    <p class="ml-5">domain name: backend.kilo.ai</p>
                    <p class="ml-5">target domain: d-s7juq9wqf0.execute-api.us-east-1.amazonaws.com</p>
                    <p class="ml-5">hosted zone id: Z1UJRXOUMOOFQ8</p>
                    <p>&nbsp;</p>
                    <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
                </div>
            </div>
        </div>

        <comments :id="13"></comments>

        <h2>Skipped deployment</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless deploy</p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-orange">Service files not changed. Skipping deployment...</span></p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">home: myapp-dev-home</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>

            <div class="terminal v3">
                <p>$ serverless deploy</p>
                <p>&nbsp;</p>
                <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p>
                    <span class="text-red">∅</span> No changes to deploy. Deployment skipped.
                </p>
                <p>&nbsp;</p>
                <p class="text-gray">Toggle on monitoring with the Serverless Dashboard: run "serverless"</p>
            </div>
        </div>

        <comments :id="14"></comments>

        <h2>Parallel tasks</h2>
        <div class="prose max-w-none mb-4">
            <p>
                Some tasks can execute in parallel, resulting in multiple spinners being displayed at the same time:
            </p>
        </div>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless deploy</p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading CloudFormation file to S3...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading artifacts...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service function1.zip file to S3 (10.28 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service function2.zip file to S3 (32.11 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading service function3.zip file to S3 (12.78 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Validating template...</span></p>
                <p>Serverless: <span class="text-yellow">Updating Stack...</span></p>
                <p>Serverless: <span class="text-yellow">Checking Stack update progress...</span></p>
                <p class="text-yellow">............<span v-for="i in second">.</span></p>
            </div>

            <div class="terminal v3">
                <p>$ serverless deploy</p>
                <p>&nbsp;</p>
                <p>Deploying myapp to stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p v-if="step === 0">
                    <span class="text-red">{{ frames[frame] }}</span>
                    Uploading CloudFormation file to S3
                </p>
                <p v-if="step === 1 || step === 2">
                    <span class="text-red">{{ frames[frame] }}</span>
                    Uploading service function1.zip file to S3 (10.28 KB)
                </p>
                <p v-if="step === 1 || step === 2 || step === 3 || step === 4">
                    <span class="text-red">{{ frames[frame] }}</span>
                    Uploading service function2.zip file to S3 (32.11 KB)
                </p>
                <p v-if="step === 1 || step === 2 || step === 3">
                    <span class="text-red">{{ frames[frame] }}</span>
                    Uploading service function3.zip file to S3 (12.78 KB)
                </p>
                <p v-if="step === 5">
                    <span class="text-red">{{ frames[frame] }}</span>
                    Validating CloudFormation template
                </p>
            </div>
        </div>

        <comments :id="16"></comments>

        <h2>Package</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless package</p>
                <p>Serverless: <span class="text-yellow">Packaging service...</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
            </div>
            <div class="terminal v3">
                <p>$ serverless package</p>
                <p>&nbsp;</p>
                <p>Packaging myapp for stage dev</p>
                <p>&nbsp;</p>
                <p v-if="step >= 0 && step < 2">
                    <span class="text-red">{{ frames[frame] }}</span>
                    Packaging
                    <span class="text-gray">({{ second }}s)</span>
                </p>
                <p v-if="step >= 2">
                    <span class="text-red">✔</span> Service packaged <span class="text-gray">(5s)</span>
                </p>
            </div>
        </div>

        <comments :id="17"></comments>

        <h2>Deploy single function</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless deploy function -f hello</p>
                <p>Serverless: <span class="text-yellow">Packaging function: hello</span></p>
                <p>Serverless: <span class="text-yellow">Excluding development dependencies...</span></p>
                <p>Serverless: <span class="text-yellow">Uploading function: hello (3.41 KB)...</span></p>
                <p>Serverless: <span class="text-yellow">Successfully deployed function: hello</span></p>
                <p>Serverless: <span class="text-yellow">Configuration did not change. Skipping function configuration update.</span></p>
            </div>
            <div class="terminal v3">
                <p>$ serverless deploy function -f hello</p>
                <p>&nbsp;</p>
                <p>Deploying function hello to stage dev <span class="text-gray">(us-east-1)</span></p>
                <p>&nbsp;</p>
                <p v-if="step === 0">
                    <span class="text-red">{{ frames[frame] }}</span>
                    Packaging function
                    <span class="text-gray">({{ second }}s)</span>
                </p>
                <p v-if="step === 1">
                    <span class="text-red">{{ frames[frame] }}</span>
                    Excluding development dependencies
                    <span class="text-gray">({{ second }}s)</span>
                </p>
                <p v-if="step === 2">
                    <span class="text-red">{{ frames[frame] }}</span>
                    Uploading function (3.41 KB)
                    <span class="text-gray">({{ second }}s)</span>
                </p>
                <p v-if="step >= 3">
                    <span class="text-red">✔</span> Function deployed <span class="text-gray">(8s)</span>
                </p>
            </div>
        </div>

        <comments :id="18"></comments>

        <h2>Info</h2>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless info</p>
                <p class="text-yellow underline">Service Information</p>
                <p><span class="text-yellow">service:</span> myapp</p>
                <p><span class="text-yellow">stage:</span> dev</p>
                <p><span class="text-yellow">region:</span> us-east-1</p>
                <p><span class="text-yellow">stack:</span> myapp-dev</p>
                <p><span class="text-yellow">resources:</span> 14</p>
                <p class="text-yellow">api keys:</p>
                <p class="ml-5">None</p>
                <p class="text-yellow">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
                <p class="text-yellow">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-yellow">layers:</p>
                <p class="ml-5">None</p>
            </div>
            <div class="terminal v3">
                <p>$ serverless info</p>
                <p class="text-gray">functions:</p>
                <p class="ml-5">publisher: myapp-dev-publisher</p>
                <p class="ml-5">jobsWorker: myapp-dev-worker</p>
                <p class="text-gray">endpoints:</p>
                <p class="ml-5">GET - https://3fr81y9fpa.execute-api.us-east-1.amazonaws.com/</p>
            </div>
        </div>

        <comments :id="19"></comments>

        <h2>Logs</h2>
        <div class="prose max-w-none mb-4">
            <p>
                There are no changes planned for the logs command in v3.0.
            </p>
        </div>
        <div class="grid xl:grid-cols-2 gap-4">
            <div class="terminal v2">
                <p>$ serverless logs -f hello</p>
                <pre class="text-gray whitespace-pre-wrap">START RequestId: 0da79ff0-8d8b-44e6-91c8-5e0ccbdac470 Version: $LATEST
END RequestId: 0da79ff0-8d8b-44e6-91c8-5e0ccbdac470
REPORT RequestId: 0da79ff0-8d8b-44e6-91c8-5e0ccbdac470	Duration: 2.56 ms	Billed Duration: 3 ms	Memory Size: 1024 MB	Max Memory Used: 64 MB	Init Duration: 158.78 ms</pre>
            </div>
            <div class="terminal v3">
                <p>$ serverless logs -f hello</p>
                <pre class="text-gray whitespace-pre-wrap">START RequestId: 0da79ff0-8d8b-44e6-91c8-5e0ccbdac470 Version: $LATEST
END RequestId: 0da79ff0-8d8b-44e6-91c8-5e0ccbdac470
REPORT RequestId: 0da79ff0-8d8b-44e6-91c8-5e0ccbdac470	Duration: 2.56 ms	Billed Duration: 3 ms	Memory Size: 1024 MB	Max Memory Used: 64 MB	Init Duration: 158.78 ms</pre>
            </div>
        </div>

    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue@3"></script>
    <script src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js"></script>
    <script>
        // Add anchors to headers
        anchors.add();

        const fetchPromise = fetch('https://3a3ygeli99.execute-api.us-east-1.amazonaws.com/discussions').then(data => data.json());

        const app = Vue.createApp({
            data: () => ({
                step: 0,
                second: 0,
                frames: ['⠋', '⠙', '⠹', '⠸', '⠼', '⠴', '⠦', '⠧', '⠇', '⠏'],
                frame: 0,
            }),
            async mounted() {
                setInterval(() => {
                    this.step = (this.step + 1) % 6;
                }, 3000);
                setInterval(() => {
                    this.second = (this.second + 1) % 18;
                }, 1000);
                setInterval(() => {
                    this.frame = (this.frame + 1) % this.frames.length;
                }, 100);
            },
        });

        app.component('comments', {
            props: ['id'],
            data: () => ({
                url: 'https://github.com/serverless/cli-design/discussions',
                commentCount: 0,
            }),
            template: `
                <div class="my-4 text-center text-red underline" title="Post feedback on the new design in GitHub discussions">
                <a :href="url" class="px-6 py-3 hover:underline">
                    <svg class="h-6 w-6 inline mr-2" aria-hidden="true" viewBox="0 0 24 24" version="1.1" fill="currentColor"><path d="M1.75 1A1.75 1.75 0 000 2.75v9.5C0 13.216.784 14 1.75 14H3v1.543a1.457 1.457 0 002.487 1.03L8.061 14h6.189A1.75 1.75 0 0016 12.25v-9.5A1.75 1.75 0 0014.25 1H1.75zM1.5 2.75a.25.25 0 01.25-.25h12.5a.25.25 0 01.25.25v9.5a.25.25 0 01-.25.25h-6.5a.75.75 0 00-.53.22L4.5 15.44v-2.19a.75.75 0 00-.75-.75h-2a.25.25 0 01-.25-.25v-9.5z"></path><path d="M22.5 8.75a.25.25 0 00-.25-.25h-3.5a.75.75 0 010-1.5h3.5c.966 0 1.75.784 1.75 1.75v9.5A1.75 1.75 0 0122.25 20H21v1.543a1.457 1.457 0 01-2.487 1.03L15.939 20H10.75A1.75 1.75 0 019 18.25v-1.465a.75.75 0 011.5 0v1.465c0 .138.112.25.25.25h5.5a.75.75 0 01.53.22l2.72 2.72v-2.19a.75.75 0 01.75-.75h2a.25.25 0 00.25-.25v-9.5z"></path></svg>
                    <span v-if="commentCount <= 0">Provide feedback in GitHub</span>
                    <span v-if="commentCount == 1">{{ commentCount }} comment in GitHub</span>
                    <span v-if="commentCount > 1">{{ commentCount }} comments in GitHub</span></a>
                </div>`,
            mounted() {
                this.url = `https://github.com/serverless/cli-design/discussions/${this.id}`;
                fetchPromise.then((data) => {
                    this.commentCount = (this.id in data) ? data[this.id].commentCount : 0;
                });
            },
        })

        app.mount('#app');
    </script>

</body>
</html>
